<!-- Language details -->
<% enable_gmaps %>
<div class="row">
  <div class="span6">
    
    <h1>
      <%= @language %>
      <% if @iso_code %>
        <a title="ISO code" href="http://www.glottolog.org/glottolog/?iso=<%= @iso_code %>" 
           class="label"><%= @iso_code %></a>
      <% end %>
    </h1>
    
    <table class="table table-condensed table-hover" id="language_metadata">
      <% if @language.variety %>
        <tr>
          <th>Variety</th>
          <td><%= @language.variety %></td>
        </tr>
      <% end %>
      <% if @language.family %>
        <tr>
          <th>Family</th>
          <td><%= @language.family %></td>
        </tr>
      <% end %>
      <% if @language.continent %>
        <tr>
          <th>Region</th>
          <td><%= @language.continent %></td>
        </tr>
      <% end %>
    </table>
    
    <%= gmaps({
      map_options: {
        container_class: "map_container single",
        provider_key: @google_api_key,
        auto_adjust:  true,
        auto_zoom:    false,
        zoom: 5,
        mapTypeControl: true,
        raw: "{
          scrollwheel: false,
          streetViewControl: false,
          overviewMapControl: true,
          navigationControlOptions: {
            style: google.maps.NavigationControlStyle.SMALL
          }
        }"
      },
      markers: {
        data: @map_data,
        options: {
          randomize: true,
          max_random_distance: 50000,
          raw: "{
            animation: google.maps.Animation.DROP
          }"
        }
      }
    }) %>
  </div>

  <div class="span6">
    <h4><%= "Contributor".pluralize @contributors.size %></h4>
    <% if @contributors.size == 0 %>
      (not specified)
    <% else %>
      <%= render partial: 'contributor', collection: @contributors %>
    <% end %>
    
    <% if @native_speakers.size > 0 %>
      <h4 class="clear">Native speakers, consultants</h4>
      <%= @native_speakers.map{|p|p.name}.to_sentence %>
    <% end %>
  </div>
</div>

<div class="row new">
  <div class="span12">
    <h3 id="data-list">Data</h3>
    <%= link_to "#{@language.verbs.count} Verbs", language_verbs_path(@language), :class =>"btn btn-large btn-info" %>
    <%= link_to "#{@language.coding_frames.count} Coding Frames", language_coding_frames_path(@language), :class =>"btn btn-large" %>
    <%= link_to "#{@language.alternations.count} Alternations", language_alternations_path(@language), :class =>"btn btn-large" %>
    <%= link_to "#{@language.examples.count} Glossed Examples", language_examples_path(@language), :class =>"btn btn-large" %>
  </div>
</div>

<div class="row new">
	<div class="span6"><div class="todo">
		<strong>To Do:</strong> display <em>"Contributors' Notes"</em>, which include:
		<ul>
		<li>General comments</li>
		<li>Source of data generalizations / contributors' background</li>
		<li>Criteria used for judging if an alternation occurs with a verb</li>
		<li>Characterization of flagging, indexing, and ordering resources</li>
		</ul>
	</div></div>
	<div class="span6">

	</div>
</div>
<div class="row new">
	<div class="span6">

	</div>
	<div class="span6">

	</div>
</div>